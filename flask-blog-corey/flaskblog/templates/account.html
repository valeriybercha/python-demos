{% extends 'layout.html' %}
{% block content %}
	<div class="content-section">
		<h1>Account page</h1>
		<div class="media">
			<img class="rounded-circle" src="{{ image_file }}">
			<div class="media-body">
				<h2>{{ current_user.username.title() }}</h2>
				<p>{{ current_user.email }}</p>
			</div>
		</div>
		
		<div class="row">
			<div class="content-section">
				<form method="POST" action="" enctype="multipart/form-data">
					<!-- Security token variable (must have) -->
					{{ form.hidden_tag() }}
					<fieldset class="form-group">
						<legend class="border-bottom mb-4">Account Info</legend>
						<!-- Form fiels from 'forms.py' file -->
						<div class="form-group">
							{{ form.username.label(class="form-control-label") }}
							
							<!-- Error message display if invalid data -->
							{% if form.username.errors %}
								{{ form.username(class="form-control form-control-lg is-invalid") }}
								<div class="invalid-feedback">
									{% for error in form.username.errors %}
										<span>{{ error }}</span>
									{% endfor %}
								</div>
							{% else %}
								<!-- If no errors -->
								{{ form.username(class="form-control form-control-lg") }}
							{% endif %}
						</div>
						<div class="form-group">
							{{ form.email.label(class="form-control-label") }}
							{% if form.email.errors %}
								{{ form.email(class="form-control form-control-lg is-invalid") }}
								<div class="invalid-feedback">
									{% for error in form.email.errors %}
										<span>{{ error }}</span>
									{% endfor %}
								</div>
							{% else %}
								{{ form.email(class="form-control form-control-lg") }}
							{% endif %}
						</div>
						<div class="form-group">
							{{ form.picture.label() }}
							{{ form.picture(class="form-control-file") }}
							{% if form.picture.errors %}
								{% for error in form.picture.errors %}
									<span class="text-danger">{{ error }}</span></br>
								{% endfor %}
							{% endif %}
						</div>
					</fieldset>
					<div class="form-group">
						{{ form.submit(class="btn btn-outline-info") }}
					</div>
				</form>
			</div>
		</div>
		
	</div>
{% endblock content %}
